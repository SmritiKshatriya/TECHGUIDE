{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Guide | Quiz</title>
    <link rel="stylesheet" href="{% static 'quiz/style.css' %}">
</head>
<body>

    <!-- Same Navigation Bar -->
    <nav class="navbar">
        <div class="logo">Tech Guide</div>
        <ul class="nav-links">
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'quiz' %}">Take Quiz</a></li>
            <li><a href="#">Roadmaps</a></li>
        </ul>
    </nav>

    <!-- Quiz Section -->
    <div class="quiz-container">
        <h2>Tech Career Discovery Quiz</h2>
        
        <form method="POST" action="{% url 'submit_quiz' %}">
    {% csrf_token %} <!-- Security token required by Django for forms -->

    <!-- Loop through every question passed from the view -->
    {% for q in questions %}
    <div class="question-box">
        <p class="question-text">{{ forloop.counter }}. {{ q.text }}</p>
        
        <!-- Loop through choices related to this specific question -->
        {% for choice in q.choice_set.all %}
        <label class="option">
            <!-- 
                name="question_{{ q.id }}": Groups answers by question ID 
                value="{{ choice.related_domain.id }}": The hidden value is the Domain ID 
            -->
            <input type="radio" name="question_{{ q.id }}" value="{{ choice.related_domain.id }}" required> 
            {{ choice.text }}
        </label>
        {% endfor %}
    </div>
    {% endfor %}

    <button type="submit" class="btn submit-btn">See My Results</button>
</form>
    </div>

</body>
</html>